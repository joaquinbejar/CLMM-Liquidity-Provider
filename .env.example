# =============================================================================
# CLMM Liquidity Provider - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# Never commit your .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Solana RPC Configuration
# -----------------------------------------------------------------------------

# Primary RPC endpoint (required for blockchain operations)
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Backup RPC endpoints (comma-separated, optional)
SOLANA_RPC_BACKUP_URLS=https://solana-api.projectserum.com,https://rpc.ankr.com/solana

# RPC request timeout in seconds (default: 30)
SOLANA_RPC_TIMEOUT_SECS=30

# Maximum retries for failed RPC requests (default: 3)
SOLANA_RPC_MAX_RETRIES=3

# Commitment level: processed, confirmed, finalized (default: confirmed)
SOLANA_COMMITMENT=confirmed

# -----------------------------------------------------------------------------
# Data Providers
# -----------------------------------------------------------------------------

# Birdeye API key for market data (required for analyze/backtest commands)
# Get your API key at: https://birdeye.so/
BIRDEYE_API_KEY=your_birdeye_api_key_here

# Jupiter API URL (optional, defaults to public endpoint)
JUPITER_API_URL=https://price.jup.ag/v4

# -----------------------------------------------------------------------------
# Database Configuration (Optional)
# -----------------------------------------------------------------------------

# PostgreSQL connection URL
# Format: postgres://user:password@host:port/database
DATABASE_URL=postgres://clmm_user:clmm_password@localhost:5432/clmm_lp

# Database pool size (default: 5)
DATABASE_POOL_SIZE=5

# -----------------------------------------------------------------------------
# API Server Configuration
# -----------------------------------------------------------------------------

# API server host (default: 0.0.0.0)
API_HOST=0.0.0.0

# API server port (default: 8080)
API_PORT=8080

# Enable CORS for all origins (default: true for development)
API_CORS_ALLOW_ALL=true

# Request timeout in seconds (default: 30)
API_REQUEST_TIMEOUT_SECS=30

# Rate limiting: requests per minute (default: 100)
API_RATE_LIMIT_RPM=100

# -----------------------------------------------------------------------------
# Authentication Configuration
# -----------------------------------------------------------------------------

# JWT secret key (CHANGE THIS IN PRODUCTION!)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT token expiration in seconds (default: 3600 = 1 hour)
JWT_EXPIRY_SECS=3600

# API keys for authentication (comma-separated)
# Example: API_KEYS=key1,key2,key3
API_KEYS=

# Require authentication for API access (default: false for development)
API_REQUIRE_AUTH=false

# -----------------------------------------------------------------------------
# Wallet Configuration
# -----------------------------------------------------------------------------

# Path to wallet keypair JSON file (for transaction signing)
WALLET_KEYPAIR_PATH=~/.config/solana/id.json

# Or provide the keypair as a base58 encoded string
# WALLET_KEYPAIR_BASE58=your_base58_encoded_private_key

# Wallet label for identification
WALLET_LABEL=default

# -----------------------------------------------------------------------------
# Execution Configuration
# -----------------------------------------------------------------------------

# Enable dry run mode (simulate transactions without executing)
# IMPORTANT: Set to false only when ready for live trading!
DRY_RUN=true

# Maximum slippage tolerance in basis points (default: 50 = 0.5%)
MAX_SLIPPAGE_BPS=50

# Transaction priority fee in microlamports (default: 1000)
PRIORITY_FEE_MICROLAMPORTS=1000

# Confirmation timeout in seconds (default: 60)
TX_CONFIRMATION_TIMEOUT_SECS=60

# -----------------------------------------------------------------------------
# Strategy Configuration
# -----------------------------------------------------------------------------

# Default rebalance threshold percentage (default: 5.0)
DEFAULT_REBALANCE_THRESHOLD_PCT=5.0

# Default maximum impermanent loss percentage (default: 2.0)
DEFAULT_MAX_IL_PCT=2.0

# Minimum interval between rebalances in hours (default: 4)
MIN_REBALANCE_INTERVAL_HOURS=4

# Circuit breaker: max consecutive losses before pause (default: 3)
CIRCUIT_BREAKER_MAX_LOSSES=3

# Circuit breaker: cooldown period in hours (default: 24)
CIRCUIT_BREAKER_COOLDOWN_HOURS=24

# -----------------------------------------------------------------------------
# Monitoring & Alerts
# -----------------------------------------------------------------------------

# Position monitoring interval in seconds (default: 30)
MONITOR_INTERVAL_SECS=30

# Enable webhook notifications
WEBHOOK_ENABLED=false

# Webhook URL for alerts
WEBHOOK_URL=https://your-webhook-endpoint.com/alerts

# Alert on position out of range (default: true)
ALERT_ON_OUT_OF_RANGE=true

# Alert on IL threshold breach (default: true)
ALERT_ON_IL_THRESHOLD=true

# IL threshold for alerts in percentage (default: 2.0)
ALERT_IL_THRESHOLD_PCT=2.0

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------

# Log level: trace, debug, info, warn, error (default: info)
RUST_LOG=info

# Enable structured JSON logging (default: false)
LOG_JSON=false

# Log file path (optional, logs to stdout if not set)
# LOG_FILE=/var/log/clmm-lp/app.log

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------

# Cache directory for market data
CACHE_DIR=~/.cache/clmm-lp

# Cache TTL in seconds (default: 3600 = 1 hour)
CACHE_TTL_SECS=3600

# Enable file-based caching (default: true)
CACHE_ENABLED=true
